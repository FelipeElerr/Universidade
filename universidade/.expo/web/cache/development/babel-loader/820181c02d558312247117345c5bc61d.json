{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { collection, getDocs } from 'firebase/firestore';\nimport db from \"../../config\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function ConsultaHistorico() {\n  var colecaoRef = collection(db, 'Histórico');\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    vetor = _useState2[0],\n    setVetor = _useState2[1];\n  var renderiza = function renderiza(_ref) {\n    var item = _ref.item;\n    return _jsxs(View, {\n      style: {\n        flexDirection: 'row',\n        justifyContent: 'space-between'\n      },\n      children: [_jsxs(Text, {\n        style: {\n          flex: 1,\n          color: 'black',\n          padding: 3\n        },\n        children: [\" \", item.matricula, \" \"]\n      }), _jsxs(Text, {\n        style: {\n          flex: 1,\n          color: 'black',\n          padding: 3\n        },\n        children: [\" \", item.cod_turma, \" \"]\n      }), _jsxs(Text, {\n        style: {\n          flex: 1,\n          color: 'black',\n          padding: 3\n        },\n        children: [\" \", item.frequencia, \" \"]\n      }), _jsxs(Text, {\n        style: {\n          flex: 1,\n          color: 'black',\n          padding: 3\n        },\n        children: [\" \", item.nota, \" \"]\n      })]\n    });\n  };\n  var separador = function separador() {\n    return _jsx(View, {\n      style: {\n        height: 1,\n        backgroundColor: 'black',\n        width: '100%'\n      }\n    });\n  };\n  useEffect(function () {\n    retornaDados();\n  }, []);\n\n  var retornaDados = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var snapshot = yield getDocs(colecaoRef);\n        for (var i = 0; i < snapshot.docs.length; i++) {\n          var dado = {\n            id: snapshot.docs[i].id,\n            matricula: snapshot.docs[i].data().matricula,\n            frequencia: snapshot.docs[i].data().frequencia,\n            nota: snapshot.docs[i].data().nota,\n            cod_turma: snapshot.docs[i].data().cod_turma\n          };\n          vetor.push(dado);\n        }\n        var vetor2 = vetor.slice();\n        setVetor(vetor2);\n      } catch (erro) {\n        console.log(erro.message);\n      }\n    });\n    return function retornaDados() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsx(View, {\n    children: _jsx(FlatList, {\n      data: vetor,\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      },\n      renderItem: renderiza,\n      ItemSeparatorComponent: separador,\n      ListHeaderComponent: separador,\n      ListFooterComponent: separador\n    })\n  });\n}","map":{"version":3,"names":["React","useEffect","useState","collection","getDocs","db","ConsultaHistorico","colecaoRef","vetor","setVetor","renderiza","item","flexDirection","justifyContent","flex","color","padding","matricula","cod_turma","frequencia","nota","separador","height","backgroundColor","width","retornaDados","snapshot","i","docs","length","dado","id","data","push","vetor2","slice","erro","console","log","message"],"sources":["C:/Users/SAOFMACH/Documents/BranchRafa/Universidade/universidade/API/Historico/consultaHistorico.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { View, Text, FlatList } from 'react-native'\r\nimport { collection, getDocs} from 'firebase/firestore'\r\n\r\nimport db from '../../config'\r\n\r\nexport default function ConsultaHistorico() {\r\n  const colecaoRef = collection(db,'Histórico');\r\n\r\n  const [vetor, setVetor] = useState([]);\r\n\r\n  const renderiza = ({item})=>{\r\n    return(\r\n      <View style={{flexDirection:'row', justifyContent: 'space-between' }}>\r\n        <Text style={{flex:1, color:'black', padding:3}}> {item.matricula} </Text>\r\n        <Text style={{flex:1, color:'black', padding:3}}> {item.cod_turma} </Text>\r\n        <Text style={{flex:1, color:'black', padding:3}}> {item.frequencia} </Text>\r\n        <Text style={{flex:1, color:'black', padding:3}}> {item.nota} </Text>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  const separador = ()=>{\r\n    return( \r\n        <View style={{height:1, backgroundColor:'black', width:'100%'}}></View>\r\n     );\r\n  }\r\n\r\n  useEffect(\r\n    ()=>{\r\n      retornaDados()\r\n    },[]\r\n  );\r\n\r\n  //get collection data\r\n  const retornaDados = async ()=>{\r\n\r\n    try{\r\n      const snapshot = await getDocs(colecaoRef)\r\n\r\n      for(let i=0;i<snapshot.docs.length;i++){\r\n        const dado = {id:snapshot.docs[i].id, matricula:snapshot.docs[i].data().matricula, frequencia:snapshot.docs[i].data().frequencia, nota:snapshot.docs[i].data().nota,cod_turma:snapshot.docs[i].data().cod_turma }\r\n        vetor.push( dado )\r\n      }\r\n\r\n      \r\n      const vetor2 = vetor.slice()\r\n\r\n      setVetor(vetor2)\r\n\r\n    }catch(erro) {\r\n      console.log(erro.message)\r\n    }\r\n\r\n  }\r\n\r\n  return(\r\n    <View>\r\n      <FlatList \r\n          data ={vetor} \r\n          keyExtractor={item => item.id}\r\n          renderItem={renderiza}\r\n          ItemSeparatorComponent={separador}\r\n          ListHeaderComponent={separador}\r\n          ListFooterComponent={separador}\r\n      />\r\n    </View>\r\n  );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}